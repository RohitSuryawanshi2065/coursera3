<!DOCTYPE html>
<html>
    <head>
        <title>JavaScript Practice Assignment 1</title>
        <style>
.Register{
  border: 2px solid black;
  width: 40%;
  margin-top: 20px;
  margin-bottom: 29px;
  margin-left: 5%;
  padding-bottom: 15px;
  
  color: black;
  background-color: rgb(151, 211, 211);
}
label{
    
    font-weight: bold;
    
}
h2{
    margin-left: 5%;
}
        </style>
    </head>
    <body>
        <img src="Assign.PNG" alt="Assignment" width="85%" height="400px" style="margin-left: 5%;">
        <h2 style="color: rgb(201, 82, 82);">Admission Process[for year 2020] :</h2>
    <h2 style="color: rgb(201, 82, 82);">Enter Your Credentials :</h2>
     
        <form class="Register" name="prn" onSubmit="return checkDetails();">
            <ul style="list-style-type:none;">
                <li><label for="name">Name of Student:[Fname Lastname]</label></li>
                <li><input placeholder="FirstName   LastName" type="text" style="margin: 10px;" id="name" name="name" size="45" /></li>
                <li><label for="branch">Branch:</label></li>
                <li><select id="branch" name="branch">
                    <option selected="" value="Default">(Please select your Branch)</option>
                    <option value="CH">Chemical</option>
                    <option value="CV">Civil</option>
                    <option value="CS">Computer Science</option>
                    <option value="EX">Electronics</option>
                    <option value="ME">Mechanical</option>
                    </select>
                </li><br>
                <li><label for="batch">Batch:</label></li>
                <li><select id="batch" name="batch">
                   
                    <option value="01">01</option>
                    <option value="02">02</option>
                    <option value="03">03</option>
                    <option value="04">04</option>
                    
                    </select>
                </li>
                
                <li><input type="submit" style="margin: 10px;" name="submit" value="Generate PRN" /></li>
            </ul>
        </form>
        <p>Students:</p>
        <div id="prnDisplay" style="display: block;"></div>
        <script>
            function checkDetails()
            {
                var Name = document.prn.name;
                var Branch = document.prn.branch;
                var bno=document.prn.batch;
                
                if(allLetter(Name))
                {
                    if(branchselect(Branch)) {
                        
                    }
                }
                return false;
            }
            function allLetter(Name)
            { 
                var letters = /^[A-Za-z]+ [A-Za-z]+$/;
                if(Name.value.match(letters))
                {
                    return true;
                }
                else   
                {   
                    alert('Invalid Input');
                    Name.focus();
                    return false;
                }      
            }
            function branchselect(Branch)
            {
                if(Branch.value == "Default")
                {
                    alert('Select your Branch from the list');
                    Branch.focus();
                    return false;
                }
                else
                {
                    alert("Details Submitted");
                    add_details();
                    display_prn();
                    return true;
                }
            }
            var i=0,j=0;
            var arrayname = Array();
            var arraybranch = Array();
            var arraybatch = Array();
            var arrayroll = Array();
            var arrayprn = Array();
            var str=new Date().getFullYear()+"";
            str= str.match(/\d{2}$/);

            function add_details()
            {
                arrayname[i] = document.getElementById("name").value;
                arraybranch[i] = document.getElementById("branch").value;
                arraybatch[i] = document.getElementById("batch").value;
                arrayroll[i] = addZeroroll(i+1);
                arrayprn[i] = str+arraybranch[i]+arraybatch[i]+arrayroll[i];

              
                function addZeroroll(num)
                {
                    if(num<10)
                    {
                        return `000${num}`;
                    }
                    else if(num<100)
                    {
                        return `00${num}`;
                    }
                    else if(num<1000)
                    {
                        return `0${num}`;
                    }
                    else 
                    {
                        return num;
                    }
                }
                i++;
            }
            function display_prn()
            {
                var disp = "<hr/>";
                for (j=0; j<arrayname.length; j++)
                {
                    disp +=  j+1 + "." + " Name: " + arrayname[j] + "<br/>" + " Branch: " + arraybranch[j] + "<br/>" + " PRN: " + arrayprn[j] + "<br/>"+"<br/>";
                }
                document.getElementById("prnDisplay").innerHTML = disp;
                document.getElementById("name").value = "";
                document.getElementById("branch").value = "Default";

            }
        </script>
    </body>
    <footer>
        <p style="text-align: center; color: rgb(202, 132, 26);"><b>&copy; Copyright 2020, Suryawanshi Rohit</b></p>
    </footer>
</html>